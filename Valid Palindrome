public class Solution {
    public boolean isPalindrome(String s) {
           
        s = s.replaceAll("\\s+", "");
        s = s.toLowerCase();
        s = s.replaceAll("[^a-zA-Z0-9]+", "");
        
        if (s.isEmpty())
            return true;
        
        boolean[][] ispal = new boolean[s.length()][s.length()];
        
        for (int i=s.length()-1; i>=0; i--)
            for (int j=i; j<s.length(); j++)
            {
                if ((s.charAt(i)==s.charAt(j)) && (j<=i+1 || ispal[i+1][j-1]))
                    ispal[i][j] = true;
            }
        return ispal[0][s.length()-1];
    }
}
